{"version":3,"sources":["Pages/Login/Login.js","actions/participantActions.js","actions/types.js","actions/sentimentActions.js","Pages/Turnip/Turnip.js","App.js","reducers/rootReducer.js","store/index.js","index.js"],"names":["Login","dispatch","useDispatch","history","useHistory","useState","pid","setPid","error","setError","checkPID","test","localStorage","setItem","type","payload","setParticipantId","push","className","style","color","placeholder","onChange","e","target","value","marginBottom","onClick","ADD_SENTIMENT","addSentiment","sentiment","sentimentScore","systemTime","number","mediaTime","startTime","Turnip","time","useSelector","state","user","participantId","setMediaTime","setStartTime","setSentimentScore","idleTime","setIdleTime","totalSeconds","hours","Math","floor","minutes","seconds","String","padStart","formattedTime","useEffect","idleTimer","setInterval","clearInterval","console","log","interval","axios","post","then","res","data","catch","err","setSentimentNumber","height","display","flexDirection","justifyContent","alignItems","width","position","marginTop","id","url","controls","playing","onReady","Date","onProgress","playedSeconds","config","youtube","playerVars","disablekb","vimeo","paddingTop","paddingBottom","marginRight","textAlign","paddingRight","paddingLeft","min","max","step","preventDefault","parseInt","list","autoFocus","ticks","i","createTicks","marginLeft","App","exact","path","initialState","intervalTime","rootReducer","action","d","n","toISOString","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7c3045f4.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setParticipantId } from '../../actions/participantActions';\r\n\r\nimport './Login.css';\r\n\r\nfunction Login() {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [pid, setPid] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const checkPID = (pid) => {\r\n    const myRe = /^PID\\d{5}$/;\r\n    if (pid === '') {\r\n      setError(\"You need to enter a participant ID\");\r\n    } else if (myRe.test(pid) === false) {\r\n      setError(\"You must enter a valid PID\")\r\n    } else {\r\n      dispatch(setParticipantId(pid))\r\n      history.push('/turnip')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      <div className=\"login-container\">\r\n        <div className=\"login-box\">\r\n          <h1 className=\"title\">Welcome to the dial testing portion of the study!</h1>\r\n          <div className=\"input-container\">\r\n            <p style={{ color: 'black' }} >Please enter your Participant ID:</p>\r\n            \r\n            <input\r\n              type=\"text\" \r\n              placeholder=\"PID12345\"\r\n              onChange={e => setPid(e.target.value)}\r\n              value={pid}\r\n              className=\"pid-input\"/>\r\n\r\n            { error ? <p style={{ color: \"red\", marginBottom: 5 }}>{ error }</p> : null }\r\n\r\n            <button onClick={() => checkPID(pid) } className=\"submit-button\">\r\n              Enter\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","export const setParticipantId = (pid) => {\r\n  localStorage.setItem('pid', pid);\r\n  return {\r\n    type: 'GET_PID',\r\n    payload: pid\r\n  }\r\n}","export const ADD_SENTIMENT_STARTED = 'ADD_SENTIMENT_STARTED'\r\nexport const ADD_SENTIMENT = 'ADD_SENTIMENT'\r\nexport const ADD_SENTIMENT_FAILURE = 'ADD_SENTIMENT_FAILURE'\r\nexport const GET_SENTIMENT = 'GET_SENTIMENT'","import axios from 'axios'\r\n\r\nimport { ADD_SENTIMENT } from './types';\r\n\r\nexport const setSentimentNumber = (number, user, time, mediaTime, startTime) => {\r\n  return dispatch => {\r\n    axios.post(`https://turnip3-api.azurewebsites.net/turnip`,\r\n      {\r\n        sentimentScore: number,\r\n        systemTime: time,\r\n        participantId: user,\r\n        mediaTime: mediaTime,\r\n        startTime: startTime\r\n      })\r\n      .then(res => {\r\n        dispatch(addSentiment(res.data))\r\n      })\r\n      .catch(err => {\r\n        console.log(\"Error @sentimentAction: \", err);\r\n      })\r\n  }\r\n}\r\n\r\nconst addSentiment = sentiment => ({\r\n  type: ADD_SENTIMENT,\r\n  payload: {\r\n    sentimentScore: sentiment.sentimentScore,\r\n    systemTime: sentiment.systemTime,\r\n    number: sentiment.number,\r\n    mediaTime: sentiment.mediaTime,\r\n    startTime: sentiment.startTime\r\n  }\r\n})","import React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport ReactPlayer from 'react-player';\r\nimport './styles.css'\r\nimport { setSentimentNumber } from '../../actions/sentimentActions';\r\n\r\nfunction Turnip() {\r\n  const time = useSelector(state => state.systemTime);\r\n  const user = useSelector(state => state.participantId);\r\n  const [mediaTime, setMediaTime] = useState();\r\n  const [startTime, setStartTime] = useState();\r\n  const [sentimentScore, setSentimentScore] = useState(50);\r\n  const [idleTime, setIdleTime] = useState(0);\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  let totalSeconds = mediaTime;\r\n  let hours = Math.floor(totalSeconds / 3600);\r\n  totalSeconds %= 3600;\r\n  let minutes = Math.floor(totalSeconds/ 60);\r\n  let seconds = Math.floor(totalSeconds % 60);\r\n\r\n  // Convert the time to pretty stuff\r\n  minutes = String(minutes).padStart(2, \"0\");\r\n  hours = String(hours).padStart(2, \"0\");\r\n  seconds = String(seconds).padStart(2, \"0\");\r\n  const formattedTime = hours + \":\" + minutes + \":\" + seconds;\r\n\r\n  useEffect(() => {\r\n    const idleTimer = setInterval(() => {\r\n      setIdleTime(idleTime => idleTime + 1);\r\n    }, 1000)\r\n    return () => clearInterval(idleTimer)\r\n  }, [idleTime])\r\n\r\n  console.log(idleTime)\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      dispatch(setSentimentNumber(sentimentScore, user, time, formattedTime, startTime))\r\n    }, 500);   \r\n\r\n    return () => clearInterval(interval)\r\n  }, [dispatch, user, time, mediaTime, formattedTime, startTime])\r\n\r\n  const sentimentScoreSetting = (e) => {\r\n    e.preventDefault();\r\n    setSentimentScore(parseInt(e.target.value))\r\n    setIdleTime(0)\r\n  }\r\n\r\n  const createTicks = () => {\r\n    let ticks = [];\r\n\r\n    for (let i = 0; i < 101; i += 10) {\r\n      ticks.push(<span key={i} className=\"tick\">{i}</span>)\r\n    }\r\n    return ticks\r\n  }\r\n\r\n  return (\r\n    <div style={{ height: '95vh', display: 'flex', flexDirection: \"column\", justifyContent: 'center', alignItems: 'center'}}>\r\n      <div style={{ height: '100%', width: '100%', position: 'relative', marginTop: '10px' }}>\r\n        <div id=\"overlay\"></div>\r\n        <ReactPlayer \r\n          url=\"https://www.youtube.com/watch?v=y7e-GC6oGhg\"\r\n          controls={false}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          playing={true}\r\n          onReady={() => setStartTime(Date())}\r\n          onProgress={(e) => setMediaTime(e.playedSeconds)}\r\n          config={{\r\n            youtube: {\r\n              playerVars: {\r\n                controls: 0,\r\n                disablekb: 1\r\n              }\r\n            },\r\n            vimeo: {\r\n              controls: false\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n      { \r\n        idleTime > 30 && idleTime < 120 ? \r\n          (<h1 style={{ paddingTop: '15px', paddingBottom: '15px', color: '#9bf00b' }}>\r\n            Are you still there? { sentimentScore }\r\n          </h1>)\r\n        : idleTime >= 120 ?\r\n          (<h1 style={{ paddingTop: '15px', paddingBottom: '15px', color: '#9bf00b' }}>\r\n            You haven't been active in over 2 minutes. Are you still there? { sentimentScore }\r\n          </h1>)\r\n        :\r\n        (<h1 style={{ paddingTop: '15px', paddingBottom: '15px' }}>\r\n          How interested are you? { sentimentScore }\r\n        </h1>) \r\n      }\r\n      \r\n      <div style={{ width: '90%', display: 'flex', flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\r\n          <i className=\"far fa-frown fa-3x\" style={{ marginRight: '10px' }}></i>\r\n          <p style={{ textAlign: 'center'}}>Not Interested</p>\r\n        </div>\r\n        <div style={{ width: '90%', display: 'flex', flexDirection: 'column', paddingRight: '10px', paddingLeft: '10px' }}>\r\n          <input className=\"slider\" type=\"range\" min=\"0\" max=\"100\" step=\"1\" value={sentimentScore}\r\n            onChange={sentimentScoreSetting}\r\n            list=\"steplist\"\r\n            autoFocus\r\n          />\r\n          <div className=\"ticks\">\r\n            {createTicks()}\r\n          </div>\r\n        </div>\r\n        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\r\n          <i className=\"far fa-smile fa-3x\" style={{ marginLeft: '10px' }}></i>\r\n          <p style={{ textAlign: 'center' }}>Very Interested</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Turnip;","import './App.css';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Login from './Pages/Login/Login';\nimport Turnip from './Pages/Turnip/Turnip';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <Login />\n        </Route>\n        <Route path=\"/turnip\">\n          <Turnip />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ADD_SENTIMENT } from '../actions/types'\r\n\r\nconst initialState = {\r\n  participantId: '',\r\n  intervalTime: null,\r\n  sentimentScore: 50,\r\n  systemTime: null,\r\n  mediaTime: '',\r\n  startTime: null,\r\n}\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n  switch(action.type){\r\n    case 'GET_PID':\r\n      return {\r\n        ...state,\r\n        participantId: action.payload\r\n      }\r\n    case ADD_SENTIMENT:\r\n      let d = new Date();\r\n      let n = d.toISOString();\r\n      return { \r\n        ...state,\r\n        intervalTime: n,\r\n        sentimentScore: action.payload.sentimentScore,\r\n        systemTime: n,\r\n        mediaTime: action.payload.mediaTime,\r\n        startTime: action.payload.startTime\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers/rootReducer';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './store/index';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}